<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>Horo - Developer Guide</title><link rel="stylesheet" href="stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="stylesheets/coderay-asciidoctor.css"></head><body class="article"><div id="seedu-header"><nav class="navbar navbar-lg navbar-light bg-lighter"><div class="container"><a class="navbar-brand" href="https://se-edu.github.io/"><img src="images/SeEduLogo.png" alt="SE-EDU"></a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level1">AB-1</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level2">AB-2</a></li><li class="nav-item"><a class="nav-link active" href="index.html">AB-3</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level4">AB-4</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/collate">Collate</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/se-book">Book</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/learningresources">Resources</a></li></ul></div></nav></div><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="index.html">AddressBook-Level3</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link active" href="DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link" href="LearningOutcomes.html">LOs</a></li><li class="nav-item"><a class="nav-link" href="AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://github.com/se-edu/addressbook-level3"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>Horo - Developer Guide</h1></div><div id="content"><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>By: <code>Team AY1920S1-CS2103T-F12-1</code>      Since: <code>Sept 2019</code>      Licence: <code>MIT</code></p>
</div>
</div>
<div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#introduction">1. Introduction</a>
<ul class="sectlevel2">
<li><a href="#about-the-application">1.1. About the Application</a></li>
<li><a href="#purpose">1.2. Purpose</a></li>
<li><a href="#how-to-use-this-guide">1.3. How to use this Guide</a></li>
</ul>
</li>
<li><a href="#setting-up">2. Setting up</a></li>
<li><a href="#design">3. Design</a>
<ul class="sectlevel2">
<li><a href="#Design-Architecture">3.1. Architecture</a></li>
<li><a href="#Design-UiManager">3.2. UI Component</a></li>
<li><a href="#Design-CommandManager">3.3. CommandManager Component</a></li>
<li><a href="#Design-ModelManager">3.4. ModelManager Component</a></li>
<li><a href="#Design-StorageManager">3.5. StorageManager Component</a></li>
</ul>
</li>
<li><a href="#implementation">4. Implementation</a>
<ul class="sectlevel2">
<li><a href="#Design-UndoRedoManager">4.1. Undo/Redo feature</a></li>
<li><a href="#Design-NotificationManager">4.2. Notification System</a></li>
<li><a href="#logging">4.3. Logging</a></li>
<li><a href="#Design-Ics">4.4. Ics Component</a></li>
<li><a href="#ui-component">4.5. UI Component</a></li>
</ul>
</li>
<li><a href="#documentation">5. Documentation</a></li>
<li><a href="#testing">6. Testing</a></li>
<li><a href="#dev-ops">7. Dev Ops</a></li>
<li><a href="#product-scope">Appendix A: Product Scope</a></li>
<li><a href="#user-stories">Appendix B: User Stories</a></li>
<li><a href="#use-cases">Appendix C: Use Cases</a></li>
<li><a href="#non-functional-requirements">Appendix D: Non Functional Requirements</a></li>
<li><a href="#glossary">Appendix E: Glossary</a></li>
<li><a href="#product-survey">Appendix F: Product Survey</a></li>
<li><a href="#instructions-for-manual-testing">Appendix G: Instructions for Manual Testing</a>
<ul class="sectlevel2">
<li><a href="#launch-and-shutdown">G.1. Launch and Shutdown</a></li>
<li><a href="#adding-deleting-and-editing-events">G.2. Adding, Deleting and Editing Events</a></li>
<li><a href="#import-and-export">G.3. Import and Export</a></li>
<li><a href="#notification-system">G.4. Notification System</a></li>
<li><a href="#ui-system">G.5. Ui System</a></li>
<li><a href="#undoing-and-redoing-commands">G.6. Undoing and Redoing Commands</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="sect1">
<h2 id="introduction"><a class="link" href="#introduction">1. Introduction</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="about-the-application"><a class="link" href="#about-the-application">1.1. About the Application</a></h3>
<div class="paragraph">
<p><strong>Horo</strong> is a command-line interface scheduling application. It helps the user maintain a to-do list and a calendar, and posts timely reminders on their desktop.</p>
</div>
</div>
<div class="sect2">
<h3 id="purpose"><a class="link" href="#purpose">1.2. Purpose</a></h3>
<div class="paragraph">
<p>This guide specifies the architecture and software design decisions for Horo, and instructions for building upon the current codebase. This is done in hopes of ensuring extensibility and maintainability of Horo for both current and future developers.</p>
</div>
</div>
<div class="sect2">
<h3 id="how-to-use-this-guide"><a class="link" href="#how-to-use-this-guide">1.3. How to use this Guide</a></h3>
<div class="paragraph">
<p>todo</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="setting-up"><a class="link" href="#setting-up">2. Setting up</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Refer to the guide <a href="SettingUp.html">here</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="design"><a class="link" href="#design">3. Design</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="Design-Architecture"><a class="link" href="#Design-Architecture">3.1. Architecture</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/ArchitectureDiagram.png" alt="ArchitectureDiagram">
</div>
<div class="title">Figure 1. Architecture Diagram</div>
</div>
<div class="paragraph">
<p>The <strong><em>Architecture Diagram</em></strong> given above explains the high-level design of Horo. Given below is a quick overview of each component.</p>
</div>
<div class="paragraph">
<p><code>Main</code> consists of a class called <code>MainApp</code>. It is responsible for:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>At app launch: Initializes the components in the correct sequence, and connects them up with each other.</p>
</li>
<li>
<p>At shut down: Shuts down the components and invokes cleanup method where necessary.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>LogsCenter</code> is used by many classes to write log messages to Horo&#8217;s log file.</p>
</div>
<div class="paragraph">
<p>The rest of Horo is managed by seven components:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="#Design-CommandManager"><strong><code>CommandManager</code></strong></a> : Responsible for executing commands from the user.</p>
</li>
<li>
<p><a href="#Design-Ics"><strong><code>Ics</code></strong></a> : Responsible for handling the importing and exporting of ICS files.</p>
</li>
<li>
<p><a href="#Design-ModelManager"><strong><code>ModelManager</code></strong></a> : Responsible for reading and writing to the in-memory data of Horo.</p>
</li>
<li>
<p><a href="#Design-NotificationManager"><strong><code>NotificationManager</code></strong></a> : Responsible for sending notifications to the user.</p>
</li>
<li>
<p><a href="#Design-StorageManager"><strong><code>StorageManager</code></strong></a> : Responsible for reading and writing the Model to an external disk.</p>
</li>
<li>
<p><a href="#Design-UiManager"><strong><code>UiManager</code></strong></a> : Responsible for managing the user interface (UI) of Horo.</p>
</li>
<li>
<p><a href="#Design-UndoRedoManager"><strong><code>UndoRedoManager</code></strong></a> : Responsible for tracking changes in ModelManager, and reverting its history when needed.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Most components follow the <a href="https://en.wikipedia.org/wiki/Observer_pattern">observer design pattern</a>, to reduce tight coupling and increase cohesion.
They implement these listeners:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>CommandInputListener</code> : The component will be notified about command input from the user.</p>
</li>
<li>
<p><code>ModelDataListener</code> : The component will be notified whenever the Model changes.</p>
</li>
<li>
<p><code>UserOutputListener</code> : The component will be notified whenever a message needs to be displayed to the user.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The sections below give more details of each component.</p>
</div>
</div>
<div class="sect2">
<h3 id="Design-UiManager"><a class="link" href="#Design-UiManager">3.2. UI Component</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/UiClassDiagram.png" alt="UiClassDiagram">
</div>
<div class="title">Figure 2. Main structure of the UI Component</div>
</div>
<div class="paragraph">
<p><strong>API</strong> : <a href="https://github.com/AY1920S1-CS2103T-F12-1/main/blob/master/src/main/java/seedu/address/logic/UiManager.java"><code>UiManager.java</code></a></p>
</div>
<div class="paragraph">
<p>The UI consists of a <code>MainWindow</code> that is contains 3 main view parts - <code>CalendarPanel</code>, <code>ListPanel</code>, <code>LogPanel</code>. It also holds several other UI parts e.g. <code>PopUpPanel</code> and <code>Command Box</code>. Every one of the UI classes will abstract from the abstract <code>UiPart</code> class.</p>
</div>
<div class="paragraph">
<p>The <code>UI</code> component uses JavaFx UI framework, and layout of these UI parts are defined in <code>.fxml</code> files which are found in the <code>src/main/resources/view</code> folder. One example of the layout would be: <a href="https://github.com/AY1920S1-CS2103T-F12-1/main/blob/master/src/main/java/seedu/address/ui/MainWindow.java"><code>MainWindow</code></a>, whose FXML link is specified in <a href="https://github.com/AY1920S1-CS2103T-F12-1/main/blob/master/src/main/resources/view/MainWindow.fxml"><code>MainWindow.fxml</code></a></p>
</div>
<div class="paragraph">
<p>The <code>UI</code> component does the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Executes user two different types commands using the <code>Logic</code> component.</p>
<div class="ulist">
<ul>
<li>
<p>One command, when executed, affect the actual Events.</p>
</li>
<li>
<p>The other command is executed to change the view of the UI. There are currently 3 main views in the application: <code>CalendarPanel</code>, <code>ListPanel</code>, <code>LogPanel</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Listens for any changes in both lists of Tasks and Events using a listener:  <a href="https://github.com/AY1920S1-CS2103T-F12-1/main/blob/master/src/main/java/seedu/address/model/listeners/ModelDataListener.java"><code>ModelDataListener</code></a>.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="calendar-ui-view"><a class="link" href="#calendar-ui-view">3.2.1. Calendar UI View</a></h4>
<div class="imageblock">
<div class="content">
<img src="images/UiCalendarClassDiagram.png" alt="UiCalendarClassDiagram">
</div>
<div class="title">Figure 3. Structure of the Calendar UI View</div>
</div>
<div class="paragraph">
<p>The Calendar View is made up of the <a href="https://github.com/AY1920S1-CS2103T-F12-1/main/blob/master/src/main/java/seedu/address/ui/panel/calendar/CalendarPanel.java"><code>CalendarPanel</code></a>, which holds several different other UI parts linked together to form the overall UI. In the Calendar View, it displays three different UI parts of the Calendar: <code>CalendarScreen</code>, <code>TimelineView</code> and <code>UpcomingView</code>.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/AY1920S1-CS2103T-F12-1/main/blob/master/src/main/java/seedu/address/ui/panel/calendar/CalendarScreen.java"><code>CalendarScreen</code></a> is the screen which displays the calendar of a certain month and year to the user. It contains 6 x 7 instance of <code>CalendarGridDay</code>, which displays the days of the month.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/AY1920S1-CS2103T-F12-1/main/blob/master/src/main/java/seedu/address/ui/panel/calendar/TimelineView.java"><code>TimelineView</code></a> is the screen which displays the timeline using 3 different classes which abstract from <code>TimelineView</code>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/AY1920S1-CS2103T-F12-1/main/blob/master/src/main/java/seedu/address/ui/panel/calendar/TimelineDayView.java"><code>TimelineDayView</code></a> displays the timeline of a particular day in a certain month and year.</p>
</li>
<li>
<p><a href="https://github.com/AY1920S1-CS2103T-F12-1/main/blob/master/src/main/java/seedu/address/ui/panel/calendar/TimelineWeekView.java"><code>TimelineWeekView</code></a> displays the timeline of a particular week. The week is according to the <code>CalendarScreen</code>, where each row represents a week of a month.</p>
</li>
<li>
<p><a href="https://github.com/AY1920S1-CS2103T-F12-1/main/blob/master/src/main/java/seedu/address/ui/panel/calendar/TimelineMonthView.java"><code>TimelineMonthView</code></a> displays the timeline of a particular month in a certain year.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each of these timeline will hold up to a certain amount of <code>CardHolder</code> depending on the type of <code>TimelineView</code>. Each of these <code>CardHolder</code> will then hold an amount of <code>Card</code> for displaying the event name and date. The details of <code>Card</code> will be explained in the one of the next few sections.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/AY1920S1-CS2103T-F12-1/main/blob/master/src/main/java/seedu/address/ui/panel/calendar/UpcomingView.java"><code>UpcomingView</code></a> represents a miniature list of Events and Tasks that has a start date or due date in the same month as the user&#8217;s system current month, but not before the date as the user&#8217;s date. This list will then hold up to a certain amount of <code>UpcomingEventCard</code> and <code>UpcomingTaskCard</code> which will be explained together with <code>Card</code> as well.</p>
</div>
</div>
<div class="sect3">
<h4 id="list-ui-view"><a class="link" href="#list-ui-view">3.2.2. List UI View</a></h4>
<div class="imageblock">
<div class="content">
<img src="images/UiListClassDiagram.png" alt="UiListClassDiagram">
</div>
<div class="title">Figure 4. Structure of the List UI View</div>
</div>
<div class="paragraph">
<p>The List View is made up of the <a href="https://github.com/AY1920S1-CS2103T-F12-1/main/blob/master/src/main/java/seedu/address/ui/panel/list/ListPanel.java"><code>ListPanel</code></a> which contains two lists views, <code>EventListView</code> and <code>TaskListView</code></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/AY1920S1-CS2103T-F12-1/main/blob/master/src/main/java/seedu/address/ui/panel/list/EventListView.java"><code>EventListView</code></a> displays the list of Events containing every piece of information of the Events.</p>
</li>
<li>
<p><a href="https://github.com/AY1920S1-CS2103T-F12-1/main/blob/master/src/main/java/seedu/address/ui/panel/list/TaskListView.java"><code>TaskListView</code></a> displays the list of Task, containing every piece of information of each Task.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Similar to <code>TimelineView</code>, <code>EventListView</code> and <code>TaskListView</code> will contain a list of <code>Card</code> to display the information.</p>
</div>
</div>
<div class="sect3">
<h4 id="log-ui-view"><a class="link" href="#log-ui-view">3.2.3. Log UI View</a></h4>
<div class="imageblock">
<div class="content">
<img src="images/UiLogClassDiagram.png" alt="UiLogClassDiagram">
</div>
<div class="title">Figure 5. Structure of the Log UI View</div>
</div>
<div class="paragraph">
<p>The Log View is made up of the <a href="https://github.com/AY1920S1-CS2103T-F12-1/main/blob/master/src/main/java/seedu/address/ui/panel/log/LogPanel.java"><code>LogPanel</code></a> which contains the list of <code>LogBox</code>.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/AY1920S1-CS2103T-F12-1/main/blob/master/src/main/java/seedu/address/ui/panel/log/LogBox.java"><code>LogBox</code></a> displays literal information back to the user when it is called by <code>MainWindow</code> when it listens for a command.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/AY1920S1-CS2103T-F12-1/main/blob/master/src/main/java/seedu/address/ui/panel/PopUpBox.java"><code>PopUpBox</code></a> is rather similar to LogBox. It holds up to the same amount of information, as much until the size of the application window, and collapses the rest. It represents the pop up that animates and displays for a few seconds to the user about the given command.</p>
</div>
</div>
<div class="sect3">
<h4 id="card-ui"><a class="link" href="#card-ui">3.2.4. Card UI</a></h4>
<div class="paragraph">
<p>Firstly, there are two types of ways to display information to the user regarding a Event or Task.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For Events, it is <code>EventCard</code>, which is abstracted from the <code>Card</code> abstract class, followed by <code>UpcomingEventCard</code></p>
</li>
<li>
<p>For Tasks, it is <code>TaskCard</code>, which is abstracted from the <code>Card</code> abstract class, followed by <code>UpcomingTaskCard</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>An <a href="https://github.com/AY1920S1-CS2103T-F12-1/main/blob/master/src/main/java/seedu/address/ui/card/EventCard.java"><code>EventCard</code></a> may display the following information:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Event Description</p>
</li>
<li>
<p>Event Start Date</p>
</li>
<li>
<p>Event End Date (Optional)</p>
</li>
<li>
<p>Event Reminder Date (Optional)</p>
</li>
<li>
<p>Event Tags (Optional)</p>
</li>
<li>
<p>Event Index (For deleting or editing)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>An <a href="https://github.com/AY1920S1-CS2103T-F12-1/main/blob/master/src/main/java/seedu/address/ui/card/TaskCard.java"><code>TaskCard</code></a> may display the following information:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Task Description</p>
</li>
<li>
<p>Task Due Date (Optional)</p>
</li>
<li>
<p>Task Reminder Date (Optional)</p>
</li>
<li>
<p>Task Tags (Optional)</p>
</li>
<li>
<p>Task Index (For deleting or editing)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>As for <a href="https://github.com/AY1920S1-CS2103T-F12-1/main/blob/master/src/main/java/seedu/address/ui/card/UpcomingEventCard.java"><code>UpcomingEventCard</code></a> and <a href="https://github.com/AY1920S1-CS2103T-F12-1/main/blob/master/src/main/java/seedu/address/ui/card/UpcomingTaskCard.java"><code>UpcomingTaskCard</code></a>, they only hold the Description of the Event or Task.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="Design-CommandManager"><a class="link" href="#Design-CommandManager">3.3. CommandManager Component</a></h3>
<div class="paragraph">
<p>The <code>CommandManager</code> class manages the addition and invoking of <code>Commands</code> in Horo.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/CommandManagerClassDiagram.png" alt="CommandManagerClassDiagram">
</div>
<div class="title">Figure 6. Class diagram of CommandManager</div>
</div>
<div class="paragraph">
<p>Referring to the diagram above, it performs the following operations:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Listen for user input in <code>onCommandInput()</code>.</p>
</li>
<li>
<p>Pass the user input to <code>commandParser</code>, to obtain a <code>Command</code>.</p>
</li>
<li>
<p>Execute the <code>Command</code> and obtain a <code>UserOutput</code>.</p>
</li>
<li>
<p>Notify all <code>userOutputListeners</code> about the <code>UserOutput</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>To give a more concrete example of how <code>CommandManager</code> functions, refer to the sequence diagram below of <strong>adding a task</strong> to Horo:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/CommandManagerAddTaskSequenceDiagram.png" alt="CommandManagerAddTaskSequenceDiagram">
</div>
<div class="title">Figure 7. Sequence diagram of adding a task</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>CommandManager closely follows the <a href="https://en.wikipedia.org/wiki/Command_pattern">command design pattern</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="command"><a class="link" href="#command">3.3.1. Command</a></h4>
<div class="paragraph">
<p>A <code>Command</code> is defined to be an immutable function, that can be invoked at any time, to perform any set of instructions.
After executing the set of instructions, it will optionally return output to be displayed to the user.</p>
</div>
<div class="paragraph">
<p>In Horo, a <code>Command</code> implemented as an abstract class with an abstract <code>execute()</code> method.
To create a new concrete command, extend from <code>Command</code> and implement <code>execute()</code>.</p>
</div>
<div class="paragraph">
<p>If your concrete command requires any dependencies during execution, it is recommended to pass in the dependency from the constructor.
For example, if your command needs to be able to access <code>ModelManager</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">MyCommand</span> <span class="directive">extends</span> Command {
    <span class="directive">private</span> <span class="directive">final</span> ModelManager model;
    MyCommand(ModelManager model) {
        <span class="local-variable">this</span>.model = model;
    }

    <span class="annotation">@Override</span>
    UserOutput execute() {
        <span class="local-variable">this</span>.model.doSomething();
        <span class="comment">// ...</span>
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="commandparser"><a class="link" href="#commandparser">3.3.2. CommandParser</a></h4>
<div class="paragraph">
<p>A <code>CommandParser</code> is defined to be able to parse a <code>String</code> of user input, and return a <code>Command</code>.</p>
</div>
<div class="paragraph">
<p>In Horo, a <code>CommandParser</code> is implemented as a finite state machine (FSM). It parses user input token by token, and it transitions from state to state depending on the next token.</p>
</div>
<div class="paragraph">
<p>What the FSM is trying to do is tokenize user input into:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>Command keyword</code></p>
</li>
<li>
<p><code>Command phrase(s)</code></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>A <strong>command keyword</strong> is defined as the first sequence of consecutive, non-whitespace characters of the user input.
For the rest of this guide, a sequence of consecutive, non-whitespace characters will be referred to as a ‘word’.
A word can be described in the form of a regular expression (regex) as <code>[^\s]+</code>.</p>
</div>
<div class="paragraph">
<p>Examples of valid command keywords:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>exit</code></p>
</li>
<li>
<p><code>add_event</code></p>
</li>
<li>
<p><code>123</code></p>
</li>
<li>
<p><code>😺</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A <strong>command phrase</strong> is defined as either a word, or multiple words delimited by whitespace surrounded by quotes.
Command phrases come after a command keyword.</p>
</div>
<div class="paragraph">
<p>Examples of valid command phrases:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Horse</code></p>
</li>
<li>
<p><code>”Homework”</code></p>
</li>
<li>
<p><code>”Horo’s Birthday”</code></p>
</li>
<li>
<p><code>”24/10/2019 07:00”</code></p>
</li>
<li>
<p><code>’24/10/2019 07:00’</code></p>
</li>
<li>
<p><code>--description</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>CommandParser</code> is trying to tokenize any command input into one command keyword, and zero or more command phrases.
(i.e. <code>[keyword] [phrase] [phrase] [phrase] &#8230;&#8203;</code>).
To understand how the FSM works, study the activity diagram below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/CommandParserActivityDiagram.png" alt="CommandParserActivityDiagram">
</div>
<div class="title">Figure 8. Activity diagram of CommandParser</div>
</div>
<div class="paragraph">
<p>After tokenizing, the command keyword is sent to a <code>CommandKeywordParser</code>, which returns a <code>CommandBuilder</code>.
The remaining command phrases are sent to the <code>CommandBuilder</code>, which builds the <code>Command</code> we want.</p>
</div>
<div class="sect4">
<h5 id="design-considerations"><a class="link" href="#design-considerations">Design Considerations</a></h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Option 1</th>
<th class="tableblock halign-left valign-top">Option 2</th>
</tr>
</thead>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">What</p></th>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Use <code>String.split()</code> to break up command input into tokens.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Implement a FSM to break up command input into tokens.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Difficulty</p></th>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Easy</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Moderate</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">How</p></th>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Split the command input by whitespaces, into words. The first word will be the <strong>command keyword</strong>.
All subsequent words will have to be joined into <strong>command phrases</strong>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Create a <code>State</code> class, and design a state diagram to tokenize the command input into a <strong>command keyword</strong> and <strong>command phrases</strong>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Evaluation</p></th>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>I did not choose this option because:</p>
</div>
<div class="paragraph">
<p>Joining words into command phrases can become quite complex, especially when introducing quotation marks.</p>
</div>
<div class="paragraph">
<p>Additionally, it is difficult for future developers to maintain and extend logic like this.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><strong>I chose this option because:</strong></p>
</div>
<div class="paragraph">
<p>A state machine is easy to understand and configure.</p>
</div>
<div class="paragraph">
<p>A state machine can tokenize complex command inputs, allowing future developers to parse advanced command inputs.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="commandkeywordparser"><a class="link" href="#commandkeywordparser">3.3.3. CommandKeywordParser</a></h4>
<div class="paragraph">
<p>A <code>CommandKeywordParser</code> is defined to be able to parse a command keyword, and return a <code>CommandBuilder</code>.</p>
</div>
<div class="paragraph">
<p>In Horo, a <code>CommandKeywordParser</code> uses a <code>HashMap</code> to map a command keyword to a <code>Supplier&lt;CommandBuilder&gt;</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="commandbuilder"><a class="link" href="#commandbuilder">3.3.4. CommandBuilder</a></h4>
<div class="paragraph">
<p>A <code>CommandBuilder</code> is defined to be able to accept an arbitrary amount of command phrases, and eventually create a <code>Command</code> using those phrases.</p>
</div>
<div class="paragraph">
<p>In Horo, a <code>CommandBuilder</code> is implemented such that the entire definition of a <code>Command</code> is in the <code>CommandBuilder</code>.
The <code>CommandBuilder</code> will use those definitions to automagically parse command phrases.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/CommandBuilderClassDiagram.png" alt="CommandBuilderClassDiagram">
</div>
<div class="title">Figure 9. Class diagram of CommandBuilder</div>
</div>
<div class="paragraph">
<p>Referring to the diagram above, the definition the command is implemented in two methods:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>defineCommandArguments()</code></p>
</li>
<li>
<p><code>defineCommandOptions()</code></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>A <strong>command option</strong> is defined to have a keyword and a list of arguments.
An <strong>option’s keyword</strong> is defined to be a command phrase.
An <strong>option’s argument</strong> is defined to be a command phrase that is not an option’s keyword, and lies after it.</p>
</div>
<div class="paragraph">
<p>Example of option’s keyword &amp; arguments below. The option’s keyword is underlined:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><u>--description</u> Horse</code></p>
</li>
<li>
<p><code><u>--tags</u> Animal Cat Dog</code></p>
</li>
<li>
<p><code><u>-d</u> Horse</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A <strong>command argument</strong> is defined to be a command phrase that is not an option’s keyword.
This is similar to an option’s argument, except that the position of this argument in the user input is important.
A command argument is a command phrase that lies after the command keyword, and before any command option’s keywords.</p>
</div>
<div class="paragraph">
<p>Example of command’s arguments below. The command’s keyword is underlined.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><u>add_event</u> Horse “24/10/2019 10:00”</code></p>
</li>
<li>
<p><code><u>delete_event</u> 1 2 3</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To understand how <code>CommandBuilder</code> works, study the activity diagram below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/CommandBuilderActivityDiagram.png" alt="CommandBuilderActivityDiagram">
</div>
<div class="title">Figure 10. Activity diagram of CommandBuilder</div>
</div>
<div class="paragraph">
<p>The <code>CommandBuilder</code> API provides a simple way for developers to create a <code>Command</code>.
For example, to create a <code>MyCommand</code> which takes in one String argument, and have an option which also takes in one String argument, you could do this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">class</span> <span class="class">MyCommandBuilder</span> <span class="directive">extends</span> CommandBuilder {

    <span class="directive">private</span> <span class="predefined-type">String</span> arg1;
    <span class="directive">private</span> <span class="predefined-type">String</span> arg2;

    <span class="annotation">@Override</span>
    <span class="directive">protected</span> RequiredArgumentList defineCommandArguments() {
        <span class="keyword">return</span> ArgumentList.required()
            .addArgument(StringArgument.newBuilder(<span class="string"><span class="delimiter">&quot;</span><span class="content">Argument 1</span><span class="delimiter">&quot;</span></span>, s -&gt; <span class="local-variable">this</span>.arg1 = s));
    }

    <span class="annotation">@Override</span>
    <span class="directive">protected</span> <span class="predefined-type">Map</span>&lt;<span class="predefined-type">String</span>, OptionalArgumentList&gt; defineCommandOptions() {
        <span class="keyword">return</span> <span class="predefined-type">Map</span>.of(
            <span class="string"><span class="delimiter">&quot;</span><span class="content">--option</span><span class="delimiter">&quot;</span></span>, ArgumentList.optional()
                .addArgument(StringArgument.newBuilder(<span class="string"><span class="delimiter">&quot;</span><span class="content">Argument 2</span><span class="delimiter">&quot;</span></span>, s -&gt; <span class="local-variable">this</span>.arg2 = s))
        );
    }

    <span class="annotation">@Override</span>
    <span class="directive">protected</span> Command commandBuild() {
        <span class="keyword">return</span> <span class="keyword">new</span> MyCommand(<span class="local-variable">this</span>.arg1, <span class="local-variable">this</span>.arg2);
    }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">class</span> <span class="class">MyCommand</span> <span class="directive">extends</span> Command {

    <span class="directive">private</span> <span class="directive">final</span> <span class="predefined-type">String</span> arg1;
    <span class="directive">private</span> <span class="directive">final</span> <span class="predefined-type">String</span> arg2;

    <span class="directive">public</span> MyCommand(<span class="predefined-type">String</span> arg1, <span class="predefined-type">String</span> arg2) {
        <span class="local-variable">this</span>.arg1 = arg1;
        <span class="local-variable">this</span>.arg2 = arg2;
    }

    <span class="annotation">@Override</span>
    <span class="directive">public</span> UserOutput execute() {
        <span class="comment">// Do something with arg1 and arg2</span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Simply register <code>MyCommandBuilder</code> to <code>CommandManager</code> to use your new command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>commandManager.addCommand("mycommand", MyCommandBuilder::new)</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>CommandBuilder closely follows the <a href="https://en.wikipedia.org/wiki/Builder_pattern">builder design pattern</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="design-considerations-2"><a class="link" href="#design-considerations-2">Design Considerations</a></h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Option 1</th>
<th class="tableblock halign-left valign-top">Option 2</th>
</tr>
</thead>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">What</p></th>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Each <code>Command</code> is created by parsing user input using it&#8217;s own <code>Parser</code>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Each <code>Command</code> is defined by a <code>CommandBuilder</code>, and created by a <code>CommandParser</code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Difficulty</p></th>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Easy</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Moderate</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">How</p></th>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Implement a utility class which can parse user input into arguments. Use this class in each command parser.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Implement <code>CommandBuilder</code> which can build a <code>Command</code> with any number of arguments. Commands provide what arguments they require.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Evaluation</p></th>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>I did not choose this option because:</p>
</div>
<div class="paragraph">
<p>Each command parser will need to implement logic to use the utility class, handle argument checking and parsing errors.</p>
</div>
<div class="paragraph">
<p>It is difficult for future developers to create, extend and test <code>Commands</code>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><strong>I chose this option because:</strong></p>
</div>
<div class="paragraph">
<p>Each <code>Command</code> does not require any logic, only arguments are required to be defined.</p>
</div>
<div class="paragraph">
<p>Since all logic is in <code>CommandBuilder</code>, it is simple for developers to test.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="argument"><a class="link" href="#argument">3.3.5. Argument</a></h4>
<div class="paragraph">
<p>A command’s argument and an option’s argument are both considered an <code>Argument</code>. An argument will be parsed from a command phrase to another object. The <code>Argument</code> class is a generic class, where the type of the class defines what type of object the command phrase be parsed into.</p>
</div>
<div class="paragraph">
<p>For example, an <code>Argument&lt;DateTime&gt;</code> which receives “24/10/2019 10:00” will be parsed into a <code>DateTime</code> object.</p>
</div>
</div>
<div class="sect3">
<h4 id="variable-argument"><a class="link" href="#variable-argument">3.3.6. Variable Argument</a></h4>
<div class="paragraph">
<p>A <code>VariableArgument</code> is a special type of argument. A variable argument will be parsed from a list of command phrases to a list of similar type objects. The <code>VariableArgument</code> class is a generic class, where the type of the class defines what types of objects the command phrases should be parsed into. A variable argument can accept zero or more command phrases to be parsed.</p>
</div>
<div class="paragraph">
<p>For example, a <code>VariableArgument&lt;Integer&gt;</code> which receives {1, 2, 3} will be parsed into a list of Integers. <code>A VariableArgument&lt;Integer&gt;</code> which receives {} will be parsed into an empty list.</p>
</div>
</div>
<div class="sect3">
<h4 id="argumentlist"><a class="link" href="#argumentlist">3.3.7. ArgumentList</a></h4>
<div class="paragraph">
<p>A command is said to contain a list of arguments, and it’s options are said to contain a list of arguments too. Both are considered an <code>ArgumentList</code>. An <code>ArgumentList</code> is defined to contain zero or more <code>Arguments</code>, and zero or one <code>VariableArguments</code>.</p>
</div>
<div class="paragraph">
<p>Additionally, if a variable argument is defined, it will be treated as the last argument in the <code>ArgumentList</code>. This is because a variable argument can accept zero or more command phrases, which will prevent other arguments from receiving command phrases if it is not the last argument.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="Design-ModelManager"><a class="link" href="#Design-ModelManager">3.4. ModelManager Component</a></h3>
<div class="paragraph">
<p>The <code>ModelManager</code> is responsible for the reading and writing of events and tasks in Horo.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ModelManagerClassDiagram.png" alt="ModelManagerClassDiagram">
</div>
<div class="title">Figure 11. Class diagram of the ModelManager</div>
</div>
<div class="paragraph">
<p>The <code>ModelManager</code> has three main functions:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Stores all events and tasks in a wrapper class <code>ModelData</code>.</p>
</li>
<li>
<p>Notifies all <code>ModelDataListeners</code> whenever the <code>ModelData</code> changes.</p>
</li>
<li>
<p>Allows any class with a reference to <code>ModelManager</code> to update the current <code>ModelData</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>To give a more concrete example of how <code>ModelManager</code> notifies its listeners, refer to the sequence diagram below of <strong>adding a task</strong> to Horo:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ModelManagerAddTaskSequenceDiagram.png" alt="ModelManagerAddTaskSequenceDiagram">
</div>
<div class="title">Figure 12. Sequence diagram of adding a task</div>
</div>
<div class="sect3">
<h4 id="modeldata"><a class="link" href="#modeldata">3.4.1. ModelData</a></h4>
<div class="paragraph">
<p><code>ModelData</code> is designed to be a wrapper class which contains a <strong>snapshot</strong> of Horo&#8217;s events and tasks.
It is immutable, and automatically creates deep copies of all events and tasks, to prevent any rouge modifications.</p>
</div>
</div>
<div class="sect3">
<h4 id="eventsource"><a class="link" href="#eventsource">3.4.2. EventSource</a></h4>
<div class="paragraph">
<p>An <code>EventSource</code> is a representation of an event in Horo.
It is immutable. It has two required fields, and three optional fields:</p>
</div>
<div class="paragraph">
<p>Required:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Description : Long description of the event</p>
</li>
<li>
<p>Start <code>DateTime</code> : The beginning of the event</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Optional:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>End <code>DateTime</code> : The end of the event, if the event has no end it is considered to be an instant in the timeline.</p>
</li>
<li>
<p>Reminder <code>DateTime</code> : When a reminder should be given to the user, used in the <a href="#notification system">[notification system]</a>.</p>
</li>
<li>
<p>Tag(s) : User defined tags, which help in organizing the user&#8217;s events.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The <code>EventSourceBuilder</code> API provides a simple way for developers to create an <code>EventSource</code>.
For example, to create an <code>EventSource</code> with three tags:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>EventSource e = EventSource.newBuilder("CS2103T Lecture", DateTime.now())
    .setTags(List.of("CS2103T", "NUS", "Lecture"))
    .build();</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="tasksource"><a class="link" href="#tasksource">3.4.3. TaskSource</a></h4>
<div class="paragraph">
<p>A <code>TaskSource</code> is a representation of a task in Horo.
It is immutable. It has one required field, and three optional fields:</p>
</div>
<div class="paragraph">
<p>Required:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Description : Long description of the task</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Optional:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Due <code>DateTime</code> : When the task should be due.</p>
</li>
<li>
<p>Reminder <code>DateTime</code> : When a reminder should be given to the user, used in the <a href="#notification system">[notification system]</a>.</p>
</li>
<li>
<p>Tag(s) : User defined tags, which help in organizing the user&#8217;s tasks.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The <code>TaskSourceBuilder</code> API provides a simple way for developers to create a <code>TaskSource</code>.
For example, to create a <code>TaskSource</code> with two tags:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>TaskSource t = TaskSource.newBuilder("Buy Groceries")
    .setTags(List.of("Shopping", "Groceries"))
    .build();</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="datetime"><a class="link" href="#datetime">3.4.4. DateTime</a></h4>
<div class="paragraph">
<p>A <code>DateTime</code> is a representation of an instant of time, without timezone information.
It is stored as the number of <a href="https://en.wikipedia.org/wiki/Unix_time">seconds from epoch</a>. It is immutable.</p>
</div>
<div class="paragraph">
<p>The <code>DateTimeBuilder</code> API provides a simple way for developers to create a <code>DateTime</code>.
For example, to create a <code>DateTime</code> representing <code>1st November 2019, 12:00PM (UTC)</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>DateTime d = DateTime.newBuilder(1, 11, 2019, 12, 0, ZoneOffset.UTC)
    .build();</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="Design-StorageManager"><a class="link" href="#Design-StorageManager">3.5. StorageManager Component</a></h3>
<div class="paragraph">
<p>The <code>StorageManager</code> is responsible for the saving and loading of Horo&#8217;s Model to the external disk.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/StorageManagerClassDiagram.png" alt="StorageManagerClassDiagram">
</div>
<div class="title">Figure 13. Class diagram of StorageManager</div>
</div>
<div class="paragraph">
<p>The <code>StorageManager</code> has four main functions:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Load the model on Horo startup.</p>
</li>
<li>
<p>Save the model whenever the model changes (notified via <code>ModelDataListener</code>).</p>
</li>
<li>
<p>Serialize the model into Javascript Object Notation (JSON) before saving.</p>
</li>
<li>
<p>Deserialize the model from JSON before passing it to <code>ModelManager</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>For serialization and deserialization of the model, our team has decided to use the well known <a href="https://github.com/FasterXML/jackson">Jackson library</a>.
<code>EventSource</code>, <code>TaskSource</code> and their respective builders, have appropriate annotations to facilitate serialization and deserialization of JSON.</p>
</div>
<div class="paragraph">
<p>To give a more concrete example of how <code>StorageManager</code> saves the model, refer to the sequence diagram below of <strong>adding a task</strong> to Horo:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/StorageManagerAddTaskSequenceDiagram.png" alt="StorageManagerAddTaskSequenceDiagram">
</div>
<div class="title">Figure 14. Sequence diagram of adding a task</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="implementation"><a class="link" href="#implementation">4. Implementation</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes some noteworthy details on how certain features are implemented.</p>
</div>
<div class="sect2">
<h3 id="Design-UndoRedoManager"><a class="link" href="#Design-UndoRedoManager">4.1. Undo/Redo feature</a></h3>
<div class="sect3">
<h4 id="implementation-details"><a class="link" href="#implementation-details">4.1.1. Implementation Details</a></h4>
<div class="paragraph">
<p>The undo/redo mechanism is facilitated by <code>UndoRedoManager</code>, which contains <code>undoStateList</code> - a history of <code>ModelData</code> states.
Each <code>ModelData</code> object contains two lists: one to store <code>EventSources</code> and the other to store <code>TaskSources</code>,
together representing the state of all event and task data at that point in time. <code>UndoRedoManager</code> also contains a <code>undoIndex</code>,
which keeps track of the index of the <code>ModelData</code> being used presently, as well as a <code>ModelManager</code> object.</p>
</div>
<div class="paragraph">
<p><code>ModelManager</code> contains a <code>ModelData</code> object. Horo&#8217;s <code>StorageManager</code>, <code>UiManager</code> and <code>UndoRedoManager</code> components
implement the <code>ModelDataListener</code> interface which listens for any changes to this <code>ModelData</code> so that they can be updated accordingly.
Every time a state-changing command (that is not <code>undo</code> or <code>redo</code>) is executed, the a new <code>ModelData</code> representing the modified version
will replace the old one and this new version will then be deep-copied and added to <code>undoStateList</code>.
Should there be a need to revert back to a past or future state (if undo or redo is called), <code>ModelManager#modelData</code> will retrieve their data from the
appropriate copy of <code>ModelData</code> in the list of duplicates.</p>
</div>
<div class="paragraph">
<p><code>UndoRedoManager</code> also implements the following operations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>UndoRedoManager#undo()</code>&#8201;&#8212;&#8201;Restore <code>ModelManager#modelData</code> to their previous versions from the appropriate duplicate in <code>undoStateList</code></p>
</li>
<li>
<p><code>UndoRedoManager#redo()</code>&#8201;&#8212;&#8201;Restore <code>ModelManager#modelData</code> to their future versions from the appropriate duplicate in <code>undoStateList</code></p>
</li>
<li>
<p><code>UndoRedoManager#clearFutureHistory()</code> -- Delete all <code>ModelData</code> states that occur in <code>undoStateList</code> after the index given by the <code>undoIndex</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>UndoCommand</code> and <code>RedoCommand</code> will interact directly with <code>UndoRedoManager</code> while other state-changing commands
(such as adding or deleting tasks) will interact only with <code>ModelManager</code>.</p>
</div>
<div class="paragraph">
<p>The <code>ModelDataListener</code> interface helps us achieve the desired undo-redo functionality:</p>
</div>
<div class="paragraph">
<p>This listener interface contains a single method, <code>onModelDataChange(ModelData modelData)</code>.</p>
</div>
<div class="paragraph">
<p>The <code>UndoRedoManager</code> implements the <code>ModelDataListener</code> interface’s method <code>onModelDataChange(ModelData modelData)</code> to “listen” for any changes to
<code>ModelManager#modelData</code> (e.g. when an event or task is added or deleted)
If such a change exists, it will be handled by first instantiating a model data with a deep-copied version of the
<code>taskList</code> and the modified <code>eventList</code>, calling <code>UndoRedoManager#clearFutureHistory()</code>, and finally to committing the state to <code>undoStateList</code></p>
</div>
<div class="paragraph">
<p>On the other hand, whenever an undo or redo is executed, <code>ModelManager&#8217;s `ModelData</code> is updated
to match the data of the model data with index <code>undoIndex</code> in <code>undoStateList</code> so that the correct version of model data is being reflected in the GUI.</p>
</div>
<div class="paragraph">
<p>Given below is an example usage scenario and how the undo/redo mechanism behaves at each step.</p>
</div>
<div class="paragraph">
<p>Step 1. The user runs the program for the first time. The <code>UndoRedoManager</code> will be initialized with the initial <code>undoStateList</code>.
A <code>ModelData</code> object will be added to <code>undoStateList</code> and the <code>undoIndex</code> will point to that single model data in the list.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/process1.png" alt="process1">
</div>
</div>
<div class="paragraph">
<p>Step 2. The user executes <code>add_event “Suntec City Computer Fair” --at “17/11/2019 12:00”</code>.
<code>ModelManager#ModelData</code> will be reset to a new <code>ModelData</code> object with the added event.
Then, <code>UndoRedoManager#onModelDataChange(ModelData modelData)</code> will be called (as there has been a change to the <code>eventList</code>),
deep-copying the modified <code>ModelData</code>.
All future states beyond the <code>undoIndex</code> will be cleared as they are no longer useful. In this particular case, there are no future states to be cleared.
Finally, the deep-copy of the new model data state will be committed; added to <code>undoStateList</code>.
The <code>undoIndex</code> is incremented by one to contain the index of the newly inserted model data state.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/process2.png" alt="process2">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If a command fails its execution, it will not result in any change to <code>ModelManager#ModelData</code>.
Hence, there is no change to trigger the listener methods and thus no <code>ModelData</code> will be saved to <code>undoStateList</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Step 3. Suppose the user decides that adding the task was a mistake. He/she then executes the undo command to rectify the error.
The undo command will decrement the <code>undoIndex</code> by one to contain the index of the previous undo redo state, thereafter triggering the
<code>UndoRedoManager#notifyModelResetListeners</code> method. This method updates <code>ModelManager#modelData</code> to match the data of the
model data with index <code>undoIndex</code> in <code>undoStateList</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/process3.png" alt="process3">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the <code>undoIndex</code> is 0, pointing to the initial model data state, then there are no previous model data states to restore.
The undo command uses <code>UndoRedoManager#canUndo()</code> to check if this is the case.
If so, it will return an error to the user rather than attempting to perform the undo.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the undo operation works:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoSequenceDiagram.png" alt="UndoSequenceDiagram" width="100%">
</div>
</div>
<div class="paragraph">
<p>The redo command does the opposite — it calls <code>UndoRedoManager#redo()</code>, which increments the <code>undoIndex</code> by one to contain the index of the previously undone state.
The <code>UndoRedoManager#notifyModelResetListeners</code> then causes <code>ModelManager#modelData</code> to be reset to this state’s data.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the <code>undoIndex</code> is at index <code>undoStateList.size() - 1</code>, pointing to the latest model data state, then there are no undone model data states to restore.
The <code>redo</code> command uses <code>UndoRedoManager#canRedo()</code> to check if this is the case. If so, it will return an error to the user rather than attempting to perform the redo.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Step 4. The user decides to execute the command <code>log</code>. Non-state-changing commands such as <code>log</code> do not manipulate task and event data.
Since no changes to <code>ModelManager#modelData</code> have been made, the listener methods will not be triggered and no model data will be saved to <code>undoStateList</code>.
Thus, the <code>undoStateList</code> remains unchanged.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/process4.png" alt="process4">
</div>
</div>
<div class="paragraph">
<p>Step 5. The user executes <code>delete_event 1</code>, removing the event from the <code>eventList</code> in <code>ModelManager#modelData</code>.
<code>UndoRedoManager#onModelDataChange(ModelData modelData)</code> will be called (as there has been a change to the <code>ModelData</code>),
purging all future states beyond the <code>undoIndex</code> as they are no longer useful.
The modified model data will be deep-copied and a new model data containing the deep-copies will also be added to <code>undoStateList</code>.
The <code>undoIndex</code> is incremented by one to contain the index of the newly inserted model data state.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/process5.png" alt="process5">
</div>
</div>
<div class="paragraph">
<p>The following activity diagram summarizes what happens when a user executes a new command:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/CommitActivityDiagram1.png" alt="CommitActivityDiagram1">
</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-3"><a class="link" href="#design-considerations-3">4.1.2. Design Considerations</a></h4>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 1. Aspect: How undo &amp; redo executes</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Approach 1 (current choice)</th>
<th class="tableblock halign-left valign-top">Approach 2</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pros</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Easy to understand and implement.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uses less memory as we only need to keep track of what commands have been executed and their parameters,
as opposed to storing all task and event data between every change.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cons</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Performance issues may arise due to the relatively larger memory usage required.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Every command will have to be implemented twice, since their inverse operations will all be different. This is
compounded by the fact that we have to ensure the correctness of every inverse operation individually as well.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="Design-NotificationManager"><a class="link" href="#Design-NotificationManager">4.2. Notification System</a></h3>
<div class="sect3">
<h4 id="class-architecture"><a class="link" href="#class-architecture">4.2.1. Class Architecture</a></h4>
<div class="imageblock">
<div class="content">
<img src="images/NotificationClassDiagram.png" alt="NotificationClassDiagram">
</div>
<div class="title">Figure 15. Class diagram for Notification System</div>
</div>
<div class="paragraph">
<p>The Notification System is facilitated by the  <code>NotificationManager</code>, which is found in the Logic component. Other constituent classes of the Notification System can be found in the Logic and UI components, depending on their functionality. These classes and their functionalities are listed below:</p>
</div>
<div class="sect4">
<h5 id="strong-logic-classes-strong"><a class="link" href="#strong-logic-classes-strong"><strong>Logic Classes</strong></a></h5>
<div class="paragraph">
<p>Logic classes are responsible for deciding if a notification should be posted. As with other components, their functionality is accessed through the <code>NotificationManager</code> class. The <code>NotificationManager</code> class maintains a reference to a <code>NotificationCheckingThread</code> as well as a <code>SystemTrayCommunicator</code>.</p>
</div>
<div class="paragraph">
<p>The logic classes of the Notification System can be found under the <code>notification</code> package under the <code>Logic</code> component.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>NotificationCheckingThread</code> is a daemon thread that runs in parallel with the main application. It checks for new notifications to post every minute.</p>
</li>
<li>
<p>The <code>NotificationChecker</code> is responsible for checking <code>Model</code> for any notifications that need to be posted.
<br></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="strong-ui-classes-strong"><a class="link" href="#strong-ui-classes-strong"><strong>UI Classes</strong></a></h5>
<div class="paragraph">
<p>UI classes are responsible for displaying notifications to the user.</p>
</div>
<div class="paragraph">
<p>The UI classes of the Notification System can be found under the <code>systemtray</code> package under the <code>ui</code> component.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>PopupListener</code> class is the main channel of communication between the logic and UI classes. When a notification needs to be posted, it will relay the information from the logic to UI classes.</p>
</li>
<li>
<p>The <code>SystemTrayCommunicator</code> handles posting notifications and displaying the app&#8217;s icon on the System Tray. It listens to the <code>NotificationCheckingThread</code> through a <code>PopupListener</code>.</p>
</li>
<li>
<p>The <code>PopupNotification</code> class carries the information that will be posted to a popup notification.</p>
</li>
<li>
<p>The <code>NotificationClickActionListener</code> is called when the user clicks on a popup notification.
<br></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="class-behaviour"><a class="link" href="#class-behaviour">4.2.2. Class Behaviour</a></h4>
<div class="paragraph">
<p>As with other Manager classes, an instance of the  <code>NotificationManager</code> is created upon the starting of MainApp. The NotificationManager proceeds to initialize and run a <code>NotificationCheckingThread</code>, as well as a <code>SystemTrayCommunicator</code>. Upon being started, the <code>NotificationCheckingThread</code> will enter a <code>notificationCheckingLoop</code> by calling its method of the same name.</p>
</div>
<div class="paragraph">
<p>To give a better explanation of how the <code>NotificationCheckingThread</code> works, a single run of its loop is illustrated below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/NotificationCheckingLoopSequenceDiagram.png" alt="NotificationCheckingLoopSequenceDiagram">
</div>
<div class="title">Figure 16. Sequence diagram for NotificationCheckingThread&#8217;s main loop</div>
</div>
<div class="paragraph">
<p>Step 1. The <code>NotificationCheckingThread</code> calls the <code>NotificationChecker</code> to generate instances of <code>PopupNotification</code> through a call to <code>NotificationChecker#getListOfPopupNotifications()</code></p>
</div>
<div class="paragraph">
<p>Step 2. For each <code>PopupNotification</code> generated by the NotificationChecker, a call to <code>PopupListener#notify()</code> is made.</p>
</div>
<div class="paragraph">
<p>Step 3. This prompts the <code>SystemTrayCommunicator</code> to post a new notification.</p>
</div>
<div class="paragraph">
<p>Step 4. The <code>NotificationCheckingThread</code> sleeps until the start of the next minute, found by the method <code>NotificationCheckingThread#findMillisecondsToNextMinute()</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-4"><a class="link" href="#design-considerations-4">4.2.3. Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-how-the-notification-system-should-run"><a class="link" href="#aspect-how-the-notification-system-should-run">Aspect: How the Notification system should run</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Running the Notification system as a separate thread in the same application</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easier to implement and test.</p>
</li>
<li>
<p>Cons: The user would have to leave the application on if they always wanted to be notified.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Running the Notification system as a background application</p>
<div class="ulist">
<ul>
<li>
<p>Pros: This would allow notifications to be posted to the user&#8217;s desktop even if the Horo main app were not open.</p>
</li>
<li>
<p>Cons: This would require the creation of a separate application that the user would have to install on their computer. Because different Java applications are ran in different instances of Java Virtual Machines, this could vastly complicate implementation as the Notification System and the rest Horo would be unable to interact directly.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Alternative 1 was eventually chosen as it was simpler to implement and test, and remain within the initial scope of Horo&#8217;s development. The application can be potentially changed to use Alternative 2 in the future.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="logging"><a class="link" href="#logging">4.3. Logging</a></h3>
<div class="paragraph">
<p>We are using <code>java.util.logging</code> package for logging. The <code>LogsCenter</code> class is used to manage the logging levels and logging destinations.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The logging level can be controlled using the <code>logLevel</code> setting in the configuration file (See <a href="#Implementation-Configuration">[Implementation-Configuration]</a>)</p>
</li>
<li>
<p>The <code>Logger</code> for a class can be obtained using <code>LogsCenter.getLogger(Class)</code> which will log messages according to the specified logging level</p>
</li>
<li>
<p>Currently log messages are output through: <code>Console</code> and to a <code>.log</code> file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Logging Levels</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SEVERE</code> : Critical problem detected which may possibly cause the termination of the application</p>
</li>
<li>
<p><code>WARNING</code> : Can continue, but with caution</p>
</li>
<li>
<p><code>INFO</code> : Information showing the noteworthy actions by the App</p>
</li>
<li>
<p><code>FINE</code> : Details that is not usually noteworthy but may be useful in debugging e.g. print the actual list instead of just its size</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Design-Ics"><a class="link" href="#Design-Ics">4.4. Ics Component</a></h3>
<div class="paragraph">
<p><strong>API</strong> : <a href="https://github.com/AY1920S1-CS2103T-F12-1/main/src/main/java/seedu/address/ics/IcsParser.java"><code>IcsParser.java</code></a></p>
</div>
<div class="paragraph">
<p>The ICS component is made up of 2 main sub-components: ICS file parser, and ICS file exporter.</p>
</div>
<div class="paragraph">
<p>The file parser makes use of a custom parser that converts files with the <code>.ics</code> file extension
to <code>EventSource</code> and <code>TaskSource</code> objects in Horo.</p>
</div>
<div class="paragraph">
<p>Here is an overview of how the ICS component looks like:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/IcsComponentDiagram.png" alt="IcsComponentDiagram">
</div>
<div class="title">Figure 17. ICS Component Architecture</div>
</div>
<div class="paragraph">
<p>Right now, this is how the <code><strong>IcsExporter</strong></code> class exports Horo&#8217;s <code><strong>EventSource</strong></code> and <code><strong>TaskSource</strong></code> data.
Notice that the file is created onnly when it is known that the directory provided by the user is valid.
This is to prevent extra uncaught errors being thrown.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ExportCommandActivityDiagram.png" alt="ExportCommandActivityDiagram">
</div>
<div class="title">Figure 18. Activity Diagram of an Export Command</div>
</div>
<div class="paragraph">
<p>In order to generate the file content from Horo&#8217;s saved data, the file exporter uses the <code><strong>IcsConverter</strong></code> class to convert <code><strong>EventSource</strong></code> and <code><strong>TaskSource</strong></code> objects
stored in the <code><strong>ModelManager</strong></code> singleton object into their ICS String representations.</p>
</div>
<div class="paragraph">
<p>They will then be concatenated together using a <code><strong>StringBuilder</strong></code> object. Boilerplate information will be added
at the start and end of the save file to make the file valid to be imported to other Calendar applications.</p>
</div>
<div class="paragraph">
<p>Check out the
<a href="https://en.wikipedia.org/wiki/ICalendar">iCalendar Wiki Page</a> for more information on the specifications.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Can export Horo&#8217;s save data as a file
The <code>ICS</code> Component,with a <code>.ics</code> extension.</p>
</li>
<li>
<p>Can import other Horo&#8217;s save data from a <code>.ics</code> file.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="design-considerations-5"><a class="link" href="#design-considerations-5">4.4.1. Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-handling-of-horo-tasksource-and-eventsource-conversion-to-ics-strings"><a class="link" href="#aspect-handling-of-horo-tasksource-and-eventsource-conversion-to-ics-strings">Aspect: Handling of Horo TaskSource and EventSource conversion to ICS Strings</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (Current Choice):</strong> Use of a separate class <code>IcsConverter</code> to convert <code>TaskSource</code> and <code>EventSource</code> objects
their ICS string representations.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Adherence to Single Responsibility Principle,
decouples <code>IcsExporter</code> from the <code>TaskSource</code> and <code>EventSource</code> classes, and keeps code reusable and scalable.</p>
</li>
<li>
<p>Cons: Not consistent with Object-Oriented Programming structure.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Create a common <code>IcsConvertible</code> Interface for <code>TaskSource</code> and <code>EventSource</code> to implement a <code>toIcsString()</code> function.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Adheres to Object-Oriented Programming structure.</p>
</li>
<li>
<p>Cons: Hard to reuse functions and modify code.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Alternative 1 was chosen eventually, as I felt that it is more important to adhere to the Single Responsibility Principle
and keep all code relevant to converting objects to ICS Strings in the same class.</p>
</div>
<div class="paragraph">
<p>This further makes it easier for future debugging,
and makes adding new exportable objects a lot easier as there are common functions that can be used.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ui-component"><a class="link" href="#ui-component">4.5. UI Component</a></h3>
<div class="sect3">
<h4 id="implementation-during-change-in-events-and-tasks"><a class="link" href="#implementation-during-change-in-events-and-tasks">4.5.1. Implementation during change in Events and Tasks</a></h4>
<div class="imageblock">
<div class="content">
<img src="images/UiSequenceDiagram.png" alt="UiSequenceDiagram">
</div>
<div class="title">Figure 19. A general Sequence Diagram during a change in the Event and Task Lists model.</div>
</div>
<div class="paragraph">
<p>The UI system is managed by the <code>UiManager</code>, which is found in <code>Logic</code> component and is responsible for any change in the models and hence updating the necessary UI portions. The UiManager then holds a single instance of the <code>MainWindow</code>, which represents the base of the UI, and holds the different panels of the UI. Here is the sequence of a change in Events and Tasks for the UI.</p>
</div>
<div class="paragraph">
<p>Step 1. <code>UiManager</code> will be called using <code>onModelListChange(lists)</code> method. This will, in turn, take in the <code>ModelLists</code>, split them into the <code>events</code> and <code>tasks</code>, and sort them. Afterward, two HashMaps, <code>eventHash</code> and <code>taskHash</code> are created to deal with the indexing of the UI later on.</p>
</div>
<div class="paragraph">
<p>Step 2. <code>MainWindow</code> will be called by <code>UiManager</code> using <code>onModelListChange(events, tasks, eventHash, taskHash)</code>, which will in turn proceed to call the methods that will update the different views represented by:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>CalendarPanel</code> - <code>onModelListChange(events, tasks, eventHash, taskHash)</code></p>
</li>
<li>
<p><code>ListPanel</code> - <code>onEventListChange(events, eventHash)</code> and <code>onTaskListChange(tasks, taskHash)</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Step 3. <code>UiManager</code> will also be called using <code>onUserOutput(output, colorTheme)</code>, which will in turn call <code>onUserOutput(output, colorTheme)</code> for MainWindow.</p>
</div>
<div class="paragraph">
<p>As for these 3 main panels, each of them will be explained further below</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UiCalendarPanelSequenceDiagram.png" alt="UiCalendarPanelSequenceDiagram">
</div>
<div class="title">Figure 20. Sequence Diagram for <code>CalendarPanel</code></div>
</div>
<div class="paragraph">
<p>Step 2.1. <code>CalendarPanel</code> will be called by <code>onModelListChange(events, tasks, eventHash, taskHash)</code>, and will proceed to zip the two lists into a single list for sorting purposes.</p>
</div>
<div class="paragraph">
<p>Step 2.2. Afterward, it will call <code>onChange</code> for the 3 smaller components:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>TimelineView</code> - When called, it will reset the current timeline using <code>resetTimeline()</code></p>
</li>
<li>
<p><code>CalendarScreen</code> - When called, it will change the calendar to the given date, as well as calling <code>changeColor(eventTaskList)</code> to change the color of a day in the calendar.</p>
</li>
<li>
<p><code>UpcomingView</code> - When called, it will simply reset the view to input the correct events and tasks.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UiListPanelSequenceDiagram.png" alt="UiListPanelSequenceDiagram">
</div>
<div class="title">Figure 21. Sequence Diagram for <code>ListPanel</code></div>
</div>
<div class="paragraph">
<p>Step 2.3. <code>ListPanel</code> will be called using <code>onEventListChange(events, eventHash)</code> first. It will proceed to call <code>EventListPanel</code> to change the list according to the given list of events.</p>
</div>
<div class="paragraph">
<p>Step 2.4. Additionally, <code>ListPanel</code> will also be called using <code>onTaskListChange(tasks, taskHash)</code>, which will eventually call <code>TaskListPanel</code> to change the list accordingly as well.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UiLogPanelSequenceDiagram.png" alt="UiLogPanelSequenceDiagram">
</div>
<div class="title">Figure 22. Sequence Diagram for <code>LogPanel</code></div>
</div>
<div class="paragraph">
<p>Step 3.1. When <code>MainWindow</code> gets called using <code>onUserOutput(output, colorTheme)</code>, it will proceed to get the actual color scheme in the form of a <code>String</code>, and creates 2 different boxes to display the output.</p>
</div>
<div class="paragraph">
<p>Step 3.2. It will call <code>LogPanel</code> to create a <code>LogBox</code> using <code>createLogBox(feedbackToUser, color)</code> to display the output to the user in <code>LogPanel</code></p>
</div>
<div class="paragraph">
<p>Step 3.3. Next, it creates <code>PopUpBox</code> and display it temporarily on any of the panels, and proceed to unused afterward.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation-when-changing-the-date-of-timeline"><a class="link" href="#implementation-when-changing-the-date-of-timeline">4.5.2. Implementation when changing the date of timeline</a></h4>
<div class="imageblock">
<div class="content">
<img src="images/UiViewDaySequenceDiagram.png" alt="UiViewDaySequenceDiagram">
</div>
<div class="title">Figure 23. Sequence Diagram for changing the timeline date</div>
</div>
<div class="paragraph">
<p>Here is an example of the sequence for the UI when <code>DayViewCommand</code> is executed to change the date of the timeline.</p>
</div>
<div class="paragraph">
<p>Step 1. When the command is executed, it will proceed to call <code>UiManager</code> through <code>viewDay(calendarDate)</code>, which in turn will call <code>MainWindow</code> and subsequently <code>CalendarPanel</code>.</p>
</div>
<div class="paragraph">
<p>Step 2. <code>CalendarPanel</code> will proceed to execute <code>changeCalendarScreenDate(calendarDate)</code>, which will create an instance of <code>CalendarScreen</code> to display the calendar.</p>
</div>
<div class="paragraph">
<p>Step 3. Afterward, a new instance of <code>TimelineDayView</code> will be created to display the timeline.</p>
</div>
<div class="paragraph">
<p>Step 4. Lastly, <code>MainWindow</code> will call <code>viewCalendar</code> which will be explained in the next section, allowing <code>CalendarPanel</code> to be visible while the other panels remain invisible.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation-when-changing-views"><a class="link" href="#implementation-when-changing-views">4.5.3. Implementation when changing views</a></h4>
<div class="imageblock">
<div class="content">
<img src="images/UiViewCalendarSequenceDiagram.png" alt="UiViewCalendarSequenceDiagram">
</div>
<div class="title">Figure 24. Sequence Diagram for changing to Calendar View</div>
</div>
<div class="paragraph">
<p>Here is an example of the sequence for the UI when <code>CalendarViewCommand</code> is executed.</p>
</div>
<div class="paragraph">
<p>Step 1. When the command is executed, it will proceed to call <code>UiManager</code> through <code>viewCalendar(calendarDate)</code>, which will proceed to check if the giving date is null or a date. The validity check is previously check in the parser.</p>
</div>
<div class="paragraph">
<p>Step 2. If calendarDate is null, the <code>UiManager</code> will simply call <code>MainWindow</code> to switch the view with the method <code>viewCalendar()</code>.</p>
</div>
<div class="paragraph">
<p>Step 3. <code>MainWindow</code> will obtain the <code>Region</code> of the 3 panels: <code>CalendarPanel</code>, <code>ListPanel</code> and <code>LogPanel</code>, and proceed to set only <code>CalendarPanel</code> to be visible.</p>
</div>
<div class="paragraph">
<p>Step 4. If calendarDate is not null, <code>UiManager</code> will then call <code>MainWindow</code> using <code>changeCalendarScreenDate(calendarDate)</code>, to change the <code>CalendarScreen</code> to the given date.</p>
</div>
<div class="paragraph">
<p>Step 5. Afterward, it will proceed and continue with Step 3, which is simply calling <code>viewCalendar()</code> again.</p>
</div>
<div class="paragraph">
<p>Since the sequence for <code>CalendarViewCommand</code> is roughly similar to <code>ListViewCommand</code> and <code>LogViewCommand</code>, those 2 commands will not be explained.</p>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-6"><a class="link" href="#design-considerations-6">4.5.4. Design Considerations</a></h4>
<div class="paragraph">
<p>The design considerations are more towards how the appearance of the UI, as well as how the architecture of the code would have changed depending on such appearance.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/oldUI.png" alt="oldUI">
</div>
<div class="title">Figure 25. Old design of the UI for Horo</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/Ui.png" alt="Ui">
</div>
<div class="title">Figure 26. Current design of the UI for Horo</div>
</div>
<div class="sect4">
<h5 id="aspect-design-of-the-code-calendarpanel-code"><a class="link" href="#aspect-design-of-the-code-calendarpanel-code">Aspect: Design of the <code>CalendarPanel</code></a></h5>
<div class="ulist">
<ul>
<li>
<p>Alternative 1: The <code>CalendarPanel</code> is of an actual calendar, depicting a limited number of events and tasks on each day of the month.</p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros</strong>: It will provide a better representation of a calendar, allowing people to judge how much is going on in a day of that month in one look.</p>
</li>
<li>
<p><strong>Cons</strong>: Due to the nature of how limited in size a calendar can be, the user will be required to either check <code>ListPanel</code> for the details of an event or task, or have an extra screen beside the calendar for the user to check the details.</p>
</li>
<li>
<p><strong>Cons</strong>: Similarly, a calendar can only input up to a fixed amount of events or tasks there are on a particular day.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Alternative 2 (current choice): The <code>CalendarPanel</code> consists of a mini-calendar as well as a timeline. An additional slot for upcoming events and tasks was later designed with an increase in space.</p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros</strong>: Provides a much greater space to show how much events or tasks one can have in a day, week or month.</p>
</li>
<li>
<p><strong>Pros</strong>: The user can easily manage and check the Events and Tasks of a certain day.</p>
</li>
<li>
<p><strong>Cons</strong>: Even though it is a timeline, it is still rather similar to list view, just with the timeline added to limit the number of events or tasks seen on that day, week or month.</p>
</li>
<li>
<p><strong>Cons</strong>: The user will not be able to easily know what Events or Tasks there are, unless they change the view to Month view. On the other hand, the increase in space allows a small section for the upcoming events and tasks which tackles this problem.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-design-of-the-code-logpanel-code"><a class="link" href="#aspect-design-of-the-code-logpanel-code">Aspect: Design of the <code>LogPanel</code></a></h5>
<div class="ulist">
<ul>
<li>
<p>Alternative 1: The <code>LogPanel</code> is placed side-by-side with any other panel.</p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros</strong>: The users can always have a visualization of the success of their commands</p>
</li>
<li>
<p><strong>Cons</strong>: A large portion of the space is used for the <code>LogPanel</code>, even if it is scaled down compared to the other panels.</p>
</li>
<li>
<p><strong>Cons</strong>: Appearance-wise, it looks extremely clunky due to most of the users' time will be looking at the calendar or list itself instead of the log.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Alternative 2 (current choice): The <code>LogPanel</code> is placed separately as a different panel that can be accessed at any time from other panels. After each command is typed, a pop-up box will appear to indicate the success or failure of the command.</p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros</strong>: Most of the time, users would only want to know if their command is successful or not. Thus having the pop-up box will be sufficient for such an indication.</p>
</li>
<li>
<p><strong>Cons</strong>: The user will have to check the <code>LogPanel</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The initial design is as of the image above showing the old UI. However, we decided to scrape it and did an overhaul of the UI using alternative 2 instead. This is due to our decision of wanting a better-looking and minimalist UI instead of one packed with information.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="documentation"><a class="link" href="#documentation">5. Documentation</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Refer to the guide <a href="Documentation.html">here</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing"><a class="link" href="#testing">6. Testing</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Refer to the guide <a href="Testing.html">here</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="dev-ops"><a class="link" href="#dev-ops">7. Dev Ops</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Refer to the guide <a href="DevOps.html">here</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="product-scope"><a class="link" href="#product-scope">Appendix A: Product Scope</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Target user profile</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>is a student</p>
</li>
<li>
<p>has a need to manage their Events and Tasks for visualization.</p>
</li>
<li>
<p>requires reminders for their Events and Tasks.</p>
</li>
<li>
<p>prefer desktop apps over other types</p>
</li>
<li>
<p>can type fast</p>
</li>
<li>
<p>prefers typing over mouse input</p>
</li>
<li>
<p>is reasonably comfortable using CLI apps</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Value proposition</strong>: manage Reminders as well as viewing Events and Tasks much faster than a typical mouse/GUI driven app</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="user-stories"><a class="link" href="#user-stories">Appendix B: User Stories</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Priorities: High (must have) - <code>* * *</code>, Medium (nice to have) - <code>* *</code>, Low (unlikely to have) - <code>*</code></p>
</div>
<table class="tableblock frame-all grid-all" style="width: 59%;">
<colgroup>
<col style="width: 22%;">
<col style="width: 23%;">
<col style="width: 25%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Priority</th>
<th class="tableblock halign-left valign-top">As a &#8230;&#8203;</th>
<th class="tableblock halign-left valign-top">I want to &#8230;&#8203;</th>
<th class="tableblock halign-left valign-top">So that I can&#8230;&#8203;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">new user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">see usage instructions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">refer to instructions when I forget how to use the App</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add an Event or Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">keep track of an Event or Task that I have in the future</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">delete an Event or Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">remove the Event or Task I no longer need.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">find an Event or Task by name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">locate the details of the Event or Task without having to go through the entire list</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">find an Event or Task by tags</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">remember the details of the Event or Task that I forget about</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">undo and redo commands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">undo any commands which wrongly inputted</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">edit my Events and Tasks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">change the details of the event, be it location, date or time</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user that works on multiple computer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">port my data between computers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">keep track on all my computers.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have constant reminders to track the deadline of my assignments</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not forget to complete and submit them</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">keep track of how long it takes for me to complete a task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">gauge how long I will need to take for future similar tasks</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student with weekly assignments and lectures</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have my reminders to be recurring</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">be reminded without having to input the information in again</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">busy student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have a convenient way to visually see my assignments and projects</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">complete them in the right priority</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">busy user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">be informed if any different events clash with each other</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">understand which event to prioritize or reschedule</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add a contacts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add them into Events to remind myself who I am meeting up with</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">archive my completed Tasks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">remind myself if I complete a task but forgot about it</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">create custom commands that contain the execution of multiple sub-commands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">quickly input in a command without the need to edit it</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">visualize my timetable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">plan for when it is time to take a break from studying</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">find a time for my project teammates to meet up</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">schedule a meeting without clashing together with other events</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">import contacts in vCard format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integrate them with my events</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">export contacts in vCard format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integrate them with my other computers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">keep track of sub-tasks in a main task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">know my current progress in a report</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><em>{More to be added}</em></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="use-cases"><a class="link" href="#use-cases">Appendix C: Use Cases</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>(For all use cases below, the <strong>System</strong> is the <code>Horo</code> and the <strong>Actor</strong> is the <code>user</code>, unless specified otherwise)</p>
</div>
<h3 id="use-case-1-add-a-task" class="discrete">Use case 1: Add a Task</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to add a Task</p>
</li>
<li>
<p>Horo replies that the Task has been added</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>1a. The user adds additional sub-commands to the Task command</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
<li>
<p>2a. The given add Task command is of the wrong format.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>2a1. Horo displays an error message.</p>
<div class="paragraph">
<p>Use case resumes at step 1.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="use-case-2-delete-a-task" class="discrete">Use case 2: Delete a Task</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to delete a specific Task from the already displayed list</p>
</li>
<li>
<p>Horo deletes the Task</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>2a. The given delete Task command is of the wrong format.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>2a1. Horo displays an error message.</p>
<div class="paragraph">
<p>Use case resumes at step 1.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="use-case-3-find-a-task-by-name" class="discrete">Use case 3: Find a Task by name</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to find a Task</p>
</li>
<li>
<p>Horo displays the list of Task with the keywords found in its name</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>2a. The given find Task command is of the wrong format.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>2a1. Horo displays an error message.</p>
<div class="paragraph">
<p>Use case resumes at step 1.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="use-case-4-undo-and-redo-commands" class="discrete">Use case 4: Undo and Redo commands</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to add an Task</p>
</li>
<li>
<p>Horo replies that the Task has been added</p>
</li>
<li>
<p>User requests to undo the command</p>
</li>
<li>
<p>Horo replies that the previous command has been undone</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>1a. The user adds additional sub-commands to the Task command</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
<li>
<p>2a. The given add Task command is of the wrong format.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>2a1. Horo displays an error message.
Use case resumes at step 1</p>
</li>
</ul>
</div>
</li>
<li>
<p>4a. User decides the to Redo the added Task</p>
<div class="ulist none">
<ul class="none">
<li>
<p>3a1. Horo replies that the added Task has been redone</p>
<div class="paragraph">
<p>Use case ends</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="use-case-5-edit-a-task" class="discrete">Use case 5: Edit a Task</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to add a Task</p>
</li>
<li>
<p>Horo replies that the Task has been added</p>
</li>
<li>
<p>User request to edit a Task with the sub-commands</p>
</li>
<li>
<p>Horo replies that the Task has been edited</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>1a. The user adds additional sub-commands to the Task command</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
<li>
<p>2a. The given add Task command is of the wrong format.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>2a1. Horo displays an error message.</p>
<div class="paragraph">
<p>Use case resumes at step 1.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>4a. The given edit Task command is of the wrong format.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>4a1. Horo displays an error message.</p>
<div class="paragraph">
<p>Use case resumes at step 3.</p>
</div>
<div class="paragraph">
<p><em>{More to be added}</em></p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="use-case-6-export-command" class="discrete">Use case 6: Export Command</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to export Horo data.</p>
</li>
<li>
<p>Horo creates a file in the same directory as Horo.</p>
</li>
<li>
<p>Horo replies that its data has been successfully exported.</p>
<div class="paragraph">
<p>Use Case Ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>2a. The user specifies which directory to export the save data to.</p>
<div class="paragraph">
<p>Use Case resumes at step 3.</p>
</div>
</li>
</ul>
</div>
<h3 id="use-case-7-import-command" class="discrete">Use case 7: Import Command</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to import Horo data from a specific file.</p>
</li>
<li>
<p>The file is imported into Horo.</p>
</li>
<li>
<p>Horo replies that the data has successfully been imported into Horo.</p>
<div class="paragraph">
<p>Use Case Ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>1a.  The file does not exist or is corrupted.</p>
<div class="ulist">
<ul>
<li>
<p>1a1. Horo replies with an error message.</p>
<div class="paragraph">
<p>Use Case Ends.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="non-functional-requirements"><a class="link" href="#non-functional-requirements">Appendix D: Non Functional Requirements</a></h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Should work on any <a href="#mainstream-os">mainstream OS</a> as long as it has Java <code>11</code> or above installed.</p>
</li>
<li>
<p>Should be able to hold up to 1000 Events and Tasks without a noticeable sluggishness in performance for typical usage.</p>
</li>
<li>
<p>Should function on both <code>32-bit environment</code> and <code>64-bit environment</code></p>
</li>
<li>
<p>Should work without any internet required.</p>
</li>
<li>
<p>A user with above average typing speed for regular English text (i.e. not code, not system admin commands) should be able to accomplish most of the tasks faster using commands than using the mouse.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><em>{More to be added}</em></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="glossary"><a class="link" href="#glossary">Appendix E: Glossary</a></h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="mainstream-os"></a> Mainstream OS</dt>
<dd>
<p>Windows, Linux, Unix, OS-X</p>
</dd>
<dt class="hdlist1"><a id="event"></a> Event</dt>
<dd>
<p>A thing that happens or takes place during a certain period of time, or of a general time.</p>
</dd>
<dt class="hdlist1"><a id="task"></a> Task</dt>
<dd>
<p>A piece of work that is to be completed or taken note of.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="product-survey"><a class="link" href="#product-survey">Appendix F: Product Survey</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>reminder-bot on Discord</strong></p>
</div>
<div class="paragraph">
<p>Author: JellyWX</p>
</div>
<div class="paragraph">
<p>Pros:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A reminder bot on a popular voice and text chat application</p>
</li>
<li>
<p>Capable of parsing english language as compared to CLI styled commands</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Cons:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Lack of visualization of the Events and Tasks</p>
</li>
<li>
<p>Parsing english language makes it slower to type with a longer requirement as compared to CLI styled commands</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Google Calendar</strong></p>
</div>
<div class="paragraph">
<p>Company: Google</p>
</div>
<div class="paragraph">
<p>Pros:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A Calendar application that is capable of storing Events and Tasks as well.</p>
</li>
<li>
<p>Mostly uses GUI for interaction with user instead of having CLI, favouring to the common crowd.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Cons:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Mostly uses GUI for interaction with user instead of having CLI, which does not favour those who prefers CLI.</p>
</li>
<li>
<p>It requires an account to be usable.</p>
</li>
<li>
<p>The desktop version requires a browser, which in turn requires Internet and hence not offline.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="instructions-for-manual-testing"><a class="link" href="#instructions-for-manual-testing">Appendix G: Instructions for Manual Testing</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Given below are instructions to test the app manually.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
These instructions only provide a starting point for testers to work on; testers are expected to do more <em>exploratory</em> testing.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="launch-and-shutdown"><a class="link" href="#launch-and-shutdown">G.1. Launch and Shutdown</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Initial launch</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Download the jar file and copy into an empty folder</p>
</li>
<li>
<p>Double-click the jar file<br>
Expected: Shows the GUI with the calendar at today&#8217;s date, with no events or tasks.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="adding-deleting-and-editing-events"><a class="link" href="#adding-deleting-and-editing-events">G.2. Adding, Deleting and Editing Events</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Adding</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Start Horo with no save data.</p>
</li>
<li>
<p>Enter <code>list</code> into the command box.</p>
</li>
<li>
<p>Enter <code>add_event "My Event Description" "11/11/2019 12:00"</code> into the command box.</p>
</li>
<li>
<p>Expected: An event will be created with the title "My Event Description", with start date "11/11/2019 12:00".</p>
</li>
</ol>
</div>
</li>
<li>
<p>Editing</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Enter <code>edit_event 0 --description "New Event Description"</code> into the command box.</p>
</li>
<li>
<p>Expected: Your event "My Event Description" will be renamed to "New Event Description".</p>
</li>
</ol>
</div>
</li>
<li>
<p>Deleting</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Enter <code>delete_event 0</code> into the command box.</p>
</li>
<li>
<p>Expected: Your event "New Event Description" will be deleted, leaving an empty list view.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="import-and-export"><a class="link" href="#import-and-export">G.3. Import and Export</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Export</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Start Horo with no save data.</p>
</li>
<li>
<p>Enter the <code>export</code> command.<br>
Expected: A save file with the name <code>Horo_export_&lt;timestamp&gt;.ics</code> will be created in the
same directory as Horo&#8217;s jar file.</p>
</li>
<li>
<p>Enter the command <code>export <strong>--directory</strong> &lt;DIRECTORY&gt;</code>,
where &lt;DIRECTORY&gt; is the directory where the save file will be created.<br>
Expected: The save file will be created in the specified directory.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Import from iCalendar file.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Create some events and tasks in Horo.</p>
</li>
<li>
<p>Take note of the current events and tasks by entering the <code>list</code> command,
going into the list view.</p>
</li>
<li>
<p>Enter the <code>export</code> command.</p>
</li>
<li>
<p>Delete the save data from Horo and re-launch the app.</p>
</li>
<li>
<p>Import the save data using the import command <code>import &lt;FILEPATH&gt;</code>.<br>
Expected: The imported events and tasks should be the same as when they were exported.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="notification-system"><a class="link" href="#notification-system">G.4. Notification System</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Posting notifications to the desktop</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: Make sure notifications have been switched on by using the <code>notif_on</code> command.<br>
Make sure the System Tray is supported.</p>
</li>
<li>
<p>Test case: <code>add_event "Test Event" "[CURRENT DATE] [CURRENT TIME INCREMENTED BY ONE MINUTE]"</code><br>
Expected: Upon the next minute, a notification should be posted to your desktop through the system tray.</p>
</li>
<li>
<p>Test case: <code>add_task "Test Task" --due "[CURRENT DATE] [CURRENT TIME INCREMENTED BY ONE MINUTE]"</code>
Expected: Upon the next minute, a notification should be posted to your desktop through the system tray.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="ui-system"><a class="link" href="#ui-system">G.5. Ui System</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Change between different UI views</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: Make sure you are on a different view panel than the one you are going to execute.</p>
</li>
<li>
<p>Test case: <code>list</code><br>
Expected: Changes to the list view panel.</p>
</li>
<li>
<p>Test case: <code>log</code><br>
Expected: Changes to the log view panel.</p>
</li>
<li>
<p>Test case: <code>calendar</code><br>
Expected: Changes to the calendar view panel.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Change date of the calendar without changing the timeline.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Test case: <code>calendar --date "10/2019"</code><br>
Expected: Calendar date will change accordingly</p>
</li>
<li>
<p>If you are not in the calendar view panel, it should change the current view to the calendar view.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Change date of the timeline in calendar view</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Test case: <code>week dd/MM/yyyy</code><br>
Expected: Changes the timeline to the week view containing that day in the given week.</p>
</li>
<li>
<p>Test case: <code>month MM/yyyy</code><br>
Expected: Changes the timeline to the month view of the specified month and year.</p>
</li>
<li>
<p>Test case: <code>day dd/MM/yyyy</code><br>
Expected: Changes the timeline to the day view of the specified day, month and year.</p>
</li>
<li>
<p>For all the test cases, if you are not in calendar view panel, it should change the current view to the calendar view.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="undoing-and-redoing-commands"><a class="link" href="#undoing-and-redoing-commands">G.6. Undoing and Redoing Commands</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Undoing an <code>add_event</code> or <code>add_task</code> command</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Firstly, switch to the List-view of Horo</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><code>listview</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>Input the following command to add an event:</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><code>add_event "Test Event" "[CURRENT DATE] [CURRENT TIME]</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>To add a task, input the following command:</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><code>add_task "Test Task"</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>Expected: The added event or task is now visible in the List-view of Horo</p>
</li>
<li>
<p>Now, run the undo command</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><code>undo</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>Expected: The added event or task is no longer visible in the List-view of Horo</p>
</li>
</ol>
</div>
</li>
<li>
<p>Redoing an <code>add_event</code> or <code>add_task</code> command</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Continuing from the above undo command, now run the redo command</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><code>redo</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>Expected: the formerly added event or task reappears in the List-view of Horo</p>
</li>
</ol>
</div>
</li>
<li>
<p>Undoing <code>delete_event</code> or <code>delete_task</code> command</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Firstly, switch to the List-view of Horo</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><code>listview</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>Input the following command to add an event: (Since our delete command allows multiple deletion, try adding more than one)</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><code>add_event "Test Event" "[CURRENT DATE] [CURRENT TIME]</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>To add a task, input the following command:</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><code>add_task "Test Task"</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>Expected: The added event or task is now visible in the List-view of Horo</p>
</li>
<li>
<p>Now, delete the event or task that you have added (you can delete multiple by specifying multiple indexes delimited by spaces)</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><code>delete_event [INDEX/ES OF EVENT IN LIST VIEW]</code></p>
</li>
<li>
<p><code>delete_task [INDEX/ES OF TASK IN LIST VIEW]</code></p>
</li>
<li>
<p>Example: <code>delete_event 0 1 2</code> (deletes the events with index 0, 1 and 2)</p>
</li>
</ol>
</div>
</li>
<li>
<p>Expected: The added events or tasks are no longer visible in the List-view of Horo</p>
</li>
<li>
<p>Run the undo command</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><code>undo</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>Expected: The deleted events and tasks are again visible in the List-view of Horo</p>
</li>
</ol>
</div>
</li>
<li>
<p>Redoing a <code>delete_event</code> or <code>delete_task</code> command</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Continuing from the above undo command, now run the redo command</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><code>redo</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>Expected: the formerly added events or tasks are once again removed from the List-view of Horo</p>
</li>
</ol>
</div>
</li>
<li>
<p>Undoing <code>edit_event</code> or <code>edit_task</code> command</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Firstly, switch to the List-view of Horo</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><code>listview</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>Input the following command to add an event:</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><code>add_event "Test Event" "[CURRENT DATE] [CURRENT TIME]</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>To add a task, input the following command:</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><code>add_task "Test Task"</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>Expected: The added event or task is now visible in the List-view of Horo</p>
</li>
<li>
<p>Now, edit the event or task that you have added (the description, due date and tags are optional)</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><code>edit_event [INDEX OF EVENT IN LIST VIEW] [NEW DESCRIPTION] [NEW DUE DATE] [NEW TAG]</code></p>
</li>
<li>
<p>Example: <code>edit_task 1 --description "Buy Rori a present" --due "17/08/2019 12:00" --tag Present</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>Expected: Any of the specified new description, due date or tag of the event or task will replace the old information in the List-view</p>
</li>
<li>
<p>Run the undo command</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><code>undo</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>Expected: The task or event will contain its old data before the edit was being made</p>
</li>
</ol>
</div>
</li>
<li>
<p>Redoing a <code>edit_event</code> or <code>edit_task</code> command</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Continuing from the above undo command, now run the redo command</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><code>redo</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>Expected: the event or task has been updated again to the new information that was initially specified in the edit command</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2019-11-11 15:25:13 UTC</div></div></div></body></html>